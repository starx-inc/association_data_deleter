<h1>削除ジョブ詳細</h1>

<div class="card mb-4">
  <div class="card-header">
    ジョブ情報
  </div>
  <div class="card-body">
    <p><strong>ID:</strong> <%= @deletion_job.id %></p>
    <p><strong>モデル名:</strong> <%= @deletion_job.model_name %></p>
    <p><strong>ステータス:</strong> <%= @deletion_job.status %></p>
    <p><strong>作成日時:</strong> <%= @deletion_job.created_at %></p>
    <p><strong>更新日時:</strong> <%= @deletion_job.updated_at %></p>
  </div>
</div>

<h2>削除詳細</h2>

<table class="table">
  <thead>
    <tr>
      <th>ID</th>
      <th>テーブル名</th>
      <th>外部キー</th>
      <th>ステータス</th>
      <th>対象件数</th>
      <th>削除件数</th>
      <th>エラー内容</th>
    </tr>
  </thead>
  <tbody>
    <% @deletion_job_details.each do |detail| %>
      <tr>
        <td><%= detail.id %></td>
        <td><%= detail.table_name %></td>
        <td><%= detail.foreign_key %></td>
        <td><%= detail.status %></td>
        <td><%= detail.target_count %></td>
        <td><%= detail.deleted_count %></td>
        <td><%= detail.error_message %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="mt-3">
  <%= link_to "一覧に戻る", association_data_deleter_engine.deletion_jobs_path, class: "btn btn-primary" %>
</div> 
